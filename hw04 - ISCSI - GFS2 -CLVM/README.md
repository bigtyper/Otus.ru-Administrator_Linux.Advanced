<h3>В этом каталоге лежат файлы выполнения домашнего задания по занятию №4:
ISCSI, multipath и кластерные файловые системы: GFS2</h3>
<hr>
<h4>Краткое описание выполнения домашнего задания:</h4>
<ol><li>Создание ansible машины средствами Vagrant</li>
<li>Создание tgt машин средствами Vagrant</li>
<li>Создание плейбуков по автоматизации процесса с разворачиванием службы tgt</li>
<li>Обнаружилось отсутствие службы clvmd на ubuntu2210</li>
<li>Путем метода проб и ошибок нашлось рабочее решение clvmd на ubuntu1804</li>
<li>С этого шага ansible плейбуки не создавал так как приходилось очень много экспериментировать с выбором нужных дистрибутивов linux и их версий, но при желаении можно конечно создать плейбуки для автоматизации развертывания кластера - там будет немного посложнее но полностью исключения ручной работы наверно не избежать</li>
<li>На ubuntu2210 методом проб и ошибок был развернуты следующие службы: iscsi (подключение таргетов), pcs (служба управления кластером pacemaker и corosync), dlm (служба динамической блокировки), clvm (служба кластерной lvm, gfs2 (кластерная файловая система)</li>
<li>Изначально было в кластере 3 ноды, но 2 из них были выключены на определенном этапе для уточнения некоторого вопроса, ввести их обратно - уже формальное дело</li>
</ol>


<h3></h3>
<hr>
<ul>
<h4>Краткое описание вложенных файлов:</h4>
<li><p>2023-02-08_02-23-26.png скриншот рбочих виртуальных машин VirtualBox</p></li>
<li><p>2023-02-08_02-31-40.png скриншот текущего состояния тестового кластера</p></li>
<li><p>vagrantfile — tgt ubuntu2210 создание виртуальных машин с доп диском на борту для открытия на него доступа по сети</p></li>
<li><p>vagrantfile — iscsi ubuntu1804 создание 3-х iscsi клиентов на которых будет поднят кластер pcs для реализации gfs2 поверх clvm</p></li>
<li><p>Vagrantfile — ansible ubuntu2210 создание управляющей машины на ubuntu2210</p></li>
<li><p>apt-upd-all.yml -  плейбук обновления на виртуальных машинах<p></li>
<li><p>apt-inst-tgt.yml - плейбук установки службы tgt на виртуальных машинах</p></li>
<li><p>copy-tgt-conf-cmd.yml - плейбук копирования файла конфигурации с рестартом службы tgt</p></li>
<li><p>create-image-cmd.yml  - плейбук создания файла на виртуальных машинах для открытия на него доступа по сети</p></li>
<li><p>serv-tgt-restart-cmd.yml - плейбук рестарта службы на виртуальных машинах</p></li>
<li><p>inventory - inventory файл ansible - здесь указан перечень виртуальных машин и метод их управления</p></li>
<li><p>ansible.cfg - файл конфигурации ansible</p></li>
</ul>
<hr>
<p><i><b>Примечание. </b></i>Для полного усвоения темы нужно собрать/разобрать 10 кластеров для разных решений</p>
<p>При разворачивании службы образуется сайт но на нем не видны настройки которые были сделаны в консоли</p>
<p>На данном лабораторном стенде не был развернут кластер в полной мере</p>
